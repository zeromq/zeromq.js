<!doctypehtml><html class=default lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Readable | zeromq.js</title><meta name=description content="Documentation for zeromq.js"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=../assets/style.css><link rel=stylesheet href=../assets/highlight.css><script defer=defer src=../assets/main.js></script><script async src=../assets/icons.js id=tsd-icons-script></script><script async src=../assets/search.js id=tsd-search-script></script><script async src=../assets/navigation.js id=tsd-nav-script></script><body><script>document.documentElement.dataset.theme=localStorage.getItem("tsd-theme")||"os",document.body.style.display="none",setTimeout(()=>app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class=tsd-page-toolbar><div class="tsd-toolbar-contents container"><div class=table-cell id=tsd-search data-base=..><div class=field><label for=tsd-search-field class="tsd-widget tsd-toolbar-icon search no-caption"><svg width=16 height=16 viewBox="0 0 16 16"fill=none><use href=../assets/icons.svg#icon-search></use></svg></label><input type=text id=tsd-search-field aria-label=Search></div><div class=field><div id=tsd-toolbar-links></div></div><ul class=results><li class="state loading">Preparing search index...<li class="state failure">The search index is not available</ul><a href=../index.html class=title>zeromq.js</a></div><div class=table-cell id=tsd-widgets><a href=# class="tsd-widget tsd-toolbar-icon menu no-caption"data-toggle=menu aria-label=Menu><svg width=16 height=16 viewBox="0 0 16 16"fill=none><use href=../assets/icons.svg#icon-menu></use></svg></a></div></div></header><div class="container container-main"><div class=col-content><div class=tsd-page-title><ul class=tsd-breadcrumb><li><a href=../modules.html>zeromq.js</a><li><a href=Readable.html>Readable</a></ul><h1>Interface Readable&lt;M&gt;</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Describes sockets that can receive messages.</div><div class="tsd-comment tsd-typography"><h4>Typeparam</h4><p>M The type of the message or message parts that can be read.</div></section><div class=tsd-signature><span class=tsd-signature-keyword>interface </span><span class=tsd-kind-interface>Readable</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>&gt;</span> <span class=tsd-signature-symbol>{</span><br><span>    </span><a class=tsd-kind-property href=Readable.html#receiveBufferSize>receiveBufferSize</a><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>number</span><span class=tsd-signature-symbol>;</span><br><span>    </span><a class=tsd-kind-property href=Readable.html#receiveHighWaterMark>receiveHighWaterMark</a><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>number</span><span class=tsd-signature-symbol>;</span><br><span>    </span><a class=tsd-kind-property href=Readable.html#receiveTimeout>receiveTimeout</a><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>number</span><span class=tsd-signature-symbol>;</span><br><span>    </span><a class=tsd-kind-call-signature href=Readable.html#_asyncIterator_._asyncIterator_-1>[asyncIterator]</a><span class=tsd-signature-symbol>(</span><span class=tsd-signature-symbol>)</span><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>AsyncIterator</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>&gt;</span><span class=tsd-signature-symbol>;</span><br><span>    </span><a class=tsd-kind-call-signature href=Readable.html#receive.receive-1>receive</a><span class=tsd-signature-symbol>(</span><span class=tsd-signature-symbol>)</span><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>Promise</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>&gt;</span><span class=tsd-signature-symbol>;</span><br><span class=tsd-signature-symbol>}</span></div><section class=tsd-panel><h4>Type Parameters</h4><ul class=tsd-type-parameter-list><li><span><a id=M class=tsd-anchor></a><span class=tsd-kind-type-parameter>M</span><span class=tsd-signature-keyword> extends </span><span class=tsd-signature-type>object</span><span class=tsd-signature-symbol>[]</span> = <a href=../types/Message.html class="tsd-signature-type tsd-kind-type-alias">Message</a><span class=tsd-signature-symbol>[]</span></span></ul></section><section class="tsd-panel tsd-hierarchy"><h4>Hierarchy (<a class=link href=../hierarchy.html#Readable>view full</a>)</h4><ul class=tsd-hierarchy><li><span class=target>Readable</span><ul class=tsd-hierarchy><li><a href=../classes/Pair.html class="tsd-signature-type tsd-kind-class">Pair</a><li><a href=../classes/Subscriber.html class="tsd-signature-type tsd-kind-class">Subscriber</a><li><a href=../classes/Request.html class="tsd-signature-type tsd-kind-class">Request</a><li><a href=../classes/Reply.html class="tsd-signature-type tsd-kind-class">Reply</a><li><a href=../classes/Dealer.html class="tsd-signature-type tsd-kind-class">Dealer</a><li><a href=../classes/Router.html class="tsd-signature-type tsd-kind-class">Router</a><li><a href=../classes/Pull.html class="tsd-signature-type tsd-kind-class">Pull</a><li><a href=../classes/XPublisher.html class="tsd-signature-type tsd-kind-class">XPublisher</a><li><a href=../classes/XSubscriber.html class="tsd-signature-type tsd-kind-class">XSubscriber</a><li><a href=../classes/Stream.html class="tsd-signature-type tsd-kind-class">Stream</a></ul></ul></section><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L180>index.ts:180</a></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion"open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase"role=button aria-expanded=false tabindex=0><svg width=16 height=16 viewBox="0 0 16 16"fill=none><use href=../assets/icons.svg#icon-chevronSmall></use></svg> Index</h5></summary><div class=tsd-accordion-details><section class=tsd-index-section><h3 class=tsd-index-heading>Properties</h3><div class=tsd-index-list><a href=Readable.html#receiveBufferSize class=tsd-index-link><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>Buffer<wbr>Size</span></a> <a href=Readable.html#receiveHighWaterMark class=tsd-index-link><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>High<wbr>Water<wbr>Mark</span></a> <a href=Readable.html#receiveTimeout class=tsd-index-link><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>Timeout</span></a></div></section><section class=tsd-index-section><h3 class=tsd-index-heading>Methods</h3><div class=tsd-index-list><a href=Readable.html#_asyncIterator_ class=tsd-index-link><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-2048></use></svg><span>[async<wbr>Iterator]</span></a> <a href=Readable.html#receive class=tsd-index-link><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-2048></use></svg><span>receive</span></a></div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Properties</h2><section class="tsd-panel tsd-member"><a id=receiveBufferSize class=tsd-anchor></a><h3 class=tsd-anchor-link><span>receive<wbr>Buffer<wbr>Size</span><a href=#receiveBufferSize aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a></h3><div class=tsd-signature><span class=tsd-kind-property>receive<wbr>Buffer<wbr>Size</span><span class=tsd-signature-symbol>:</span> <span class=tsd-signature-type>number</span></div><div class="tsd-comment tsd-typography"><p>ZMQ_RCVBUF<p>Underlying kernel receive buffer size in bytes. A value of -1 means leave the OS default unchanged.</div><div class="tsd-comment tsd-typography"></div><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L187>index.ts:187</a></ul></aside></section><section class="tsd-panel tsd-member"><a id=receiveHighWaterMark class=tsd-anchor></a><h3 class=tsd-anchor-link><span>receive<wbr>High<wbr>Water<wbr>Mark</span><a href=#receiveHighWaterMark aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a></h3><div class=tsd-signature><span class=tsd-kind-property>receive<wbr>High<wbr>Water<wbr>Mark</span><span class=tsd-signature-symbol>:</span> <span class=tsd-signature-type>number</span></div><div class="tsd-comment tsd-typography"><p>ZMQ_RCVHWM<p>The high water mark is a hard limit on the maximum number of incoming messages ØMQ shall queue in memory for any single peer that the specified socket is communicating with. A value of zero means no limit.<p>If this limit has been reached the socket shall enter an exceptional state and depending on the socket type, ØMQ shall take appropriate action such as blocking or dropping sent messages.</div><div class="tsd-comment tsd-typography"></div><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L200>index.ts:200</a></ul></aside></section><section class="tsd-panel tsd-member"><a id=receiveTimeout class=tsd-anchor></a><h3 class=tsd-anchor-link><span>receive<wbr>Timeout</span><a href=#receiveTimeout aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a></h3><div class=tsd-signature><span class=tsd-kind-property>receive<wbr>Timeout</span><span class=tsd-signature-symbol>:</span> <span class=tsd-signature-type>number</span></div><div class="tsd-comment tsd-typography"><p>ZMQ_RCVTIMEO<p>Sets the timeout receiving messages on the socket. If the value is 0, <a href=Readable.html#receive class=tsd-kind-method>receive</a>() will return a rejected promise immediately if there is no message to receive. If the value is -1, it will wait asynchronously until a message is available. For all other values, it will wait for a message for that amount of time before rejecting.</div><div class="tsd-comment tsd-typography"></div><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L211>index.ts:211</a></ul></aside></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id=_asyncIterator_ class=tsd-anchor></a><h3 class=tsd-anchor-link><span>[async<wbr>Iterator]</span><a href=#_asyncIterator_ aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a></h3><ul class=tsd-signatures><li class="tsd-signature tsd-anchor-link"><a id=_asyncIterator_._asyncIterator_-1 class=tsd-anchor></a><span class=tsd-kind-call-signature>[async<wbr>Iterator]</span><span class=tsd-signature-symbol>(</span><span class=tsd-signature-symbol>)</span><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>AsyncIterator</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>&gt;</span><a href=#_asyncIterator_._asyncIterator_-1 aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a><li class=tsd-description><div class="tsd-comment tsd-typography"><p>Asynchronously iterate over messages becoming available on the socket. When the socket is closed with <a href=../classes/Pair.html#close class=tsd-kind-method>Socket.close</a>(), the iterator will return. Returning early from the iterator will <strong>not</strong> close the socket unless it also goes out of scope.<pre><code class=language-typescript><span class=hl-6>for</span><span class=hl-1> </span><span class=hl-6>await</span><span class=hl-1> (</span><span class=hl-4>const</span><span class=hl-1> [</span><span class=hl-5>msg</span><span class=hl-1>] </span><span class=hl-4>of</span><span class=hl-1> </span><span class=hl-3>socket</span><span class=hl-1>) {</span><br><span class=hl-1>  </span><span class=hl-9>// handle messages</span><br><span class=hl-1>}</span>
</code><button>Copy</button></pre></div><h4 class=tsd-returns-title>Returns <span class=tsd-signature-type>AsyncIterator</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>, </span><span class=tsd-signature-type>undefined</span><span class=tsd-signature-symbol>&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L263>index.ts:263</a></ul></aside></ul></section><section class="tsd-panel tsd-member"><a id=receive class=tsd-anchor></a><h3 class=tsd-anchor-link><span>receive</span><a href=#receive aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a></h3><ul class=tsd-signatures><li class="tsd-signature tsd-anchor-link"><a id=receive.receive-1 class=tsd-anchor></a><span class=tsd-kind-call-signature>receive</span><span class=tsd-signature-symbol>(</span><span class=tsd-signature-symbol>)</span><span class=tsd-signature-symbol>: </span><span class=tsd-signature-type>Promise</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>&gt;</span><a href=#receive.receive-1 aria-label=Permalink class=tsd-anchor-icon><svg viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-anchor></use></svg></a><li class=tsd-description><div class="tsd-comment tsd-typography"><p>Waits for the next single or multipart message to become availeble on the socket. Reads a message immediately if possible. If no messages can be read, it will wait asynchonously. The promise will be resolved with an array containing the parts of the next message when available.<pre><code class=language-typescript><span class=hl-4>const</span><span class=hl-1> [</span><span class=hl-5>msg</span><span class=hl-1>] = </span><span class=hl-6>await</span><span class=hl-1> </span><span class=hl-3>socket</span><span class=hl-1>.</span><span class=hl-0>receive</span><span class=hl-1>()</span><br><span class=hl-4>const</span><span class=hl-1> [</span><span class=hl-5>part1</span><span class=hl-1>, </span><span class=hl-5>part2</span><span class=hl-1>] = </span><span class=hl-6>await</span><span class=hl-1> </span><span class=hl-3>socket</span><span class=hl-1>.</span><span class=hl-0>receive</span><span class=hl-1>()</span>
</code><button>Copy</button></pre><p>Reading may fail (eventually) if the socket has been configured with a <a href=Readable.html#receiveTimeout class=tsd-kind-property>receiveTimeout</a>.<p>A call to <a href=Readable.html#receive class=tsd-kind-method>receive</a>() is guaranteed to return with a resolved promise immediately if a message could be read from the socket directly.<p>Only <strong>one</strong> asynchronously blocking call to <a href=Readable.html#receive class=tsd-kind-method>receive</a>() can be in progress simultaneously. If you call <a href=Readable.html#receive class=tsd-kind-method>receive</a>() again on the same socket it will return a rejected promise with an <code>EBUSY</code> error. For example, if no messages can be read and no <code>await</code> is used:<pre><code class=language-typescript><span class=hl-3>socket</span><span class=hl-1>.</span><span class=hl-0>receive</span><span class=hl-1>() </span><span class=hl-9>// -&gt; pending promise until read is possible</span><br><span class=hl-3>socket</span><span class=hl-1>.</span><span class=hl-0>receive</span><span class=hl-1>() </span><span class=hl-9>// -&gt; promise rejection with `EBUSY` error</span>
</code><button>Copy</button></pre><p><strong>Note:</strong> Due to the nature of Node.js and to avoid blocking the main thread, this method always attempts to read messages with the <code>ZMQ_DONTWAIT</code> flag. It polls asynchronously if reading is not currently possible. This means that all functionality related to timeouts and blocking behaviour is reimplemented in the Node.js bindings. Any differences in behaviour with the native ZMQ library is considered a bug.</div><h4 class=tsd-returns-title>Returns <span class=tsd-signature-type>Promise</span><span class=tsd-signature-symbol>&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter"href=Readable.html#M>M</a><span class=tsd-signature-symbol>&gt;</span></h4><p>Resolved with message parts that were successfully read.<div class="tsd-comment tsd-typography"></div><aside class=tsd-sources><ul><li>Defined in <a href=https://github.com/zeromq/zeromq.js/blob/4af17f55b8c2db5a63c960f1d270dca1bc08a0a9/src/index.ts#L249>index.ts:249</a></ul></aside></ul></section></section></div><div class=col-sidebar><div class=page-menu><div class="tsd-navigation settings"><details class=tsd-index-accordion><summary class=tsd-accordion-summary><h3><svg width=20 height=20 viewBox="0 0 24 24"fill=none><use href=../assets/icons.svg#icon-chevronDown></use></svg>Settings</h3></summary><div class=tsd-accordion-details><div class=tsd-filter-visibility><h4 class=uppercase>Member Visibility</h4><form><ul id=tsd-filter-options><li class=tsd-filter-item><label class=tsd-filter-input><input type=checkbox id=tsd-filter-protected name=protected><svg width=32 height=32 viewBox="0 0 32 32"aria-hidden=true><rect class=tsd-checkbox-background width=30 height=30 x=1 y=1 rx=6 fill=none></rect><path class=tsd-checkbox-checkmark d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"stroke=none stroke-width=3.5 stroke-linejoin=round fill=none></path></svg><span>Protected</span></label><li class=tsd-filter-item><label class=tsd-filter-input><input type=checkbox id=tsd-filter-inherited name=inherited checked=checked><svg width=32 height=32 viewBox="0 0 32 32"aria-hidden=true><rect class=tsd-checkbox-background width=30 height=30 x=1 y=1 rx=6 fill=none></rect><path class=tsd-checkbox-checkmark d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"stroke=none stroke-width=3.5 stroke-linejoin=round fill=none></path></svg><span>Inherited</span></label><li class=tsd-filter-item><label class=tsd-filter-input><input type=checkbox id=tsd-filter-external name=external><svg width=32 height=32 viewBox="0 0 32 32"aria-hidden=true><rect class=tsd-checkbox-background width=30 height=30 x=1 y=1 rx=6 fill=none></rect><path class=tsd-checkbox-checkmark d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"stroke=none stroke-width=3.5 stroke-linejoin=round fill=none></path></svg><span>External</span></label></ul></form></div><div class=tsd-theme-toggle><h4 class=uppercase>Theme</h4><select id=tsd-theme><option value=os>OS<option value=light>Light<option value=dark>Dark</select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class=tsd-accordion-summary><h3><svg width=20 height=20 viewBox="0 0 24 24"fill=none><use href=../assets/icons.svg#icon-chevronDown></use></svg>On This Page</h3></summary><div class=tsd-accordion-details><a href=#receiveBufferSize class=""><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>Buffer<wbr>Size</span></a><a href=#receiveHighWaterMark class=""><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>High<wbr>Water<wbr>Mark</span></a><a href=#receiveTimeout class=""><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1024></use></svg><span>receive<wbr>Timeout</span></a><a href=#_asyncIterator_ class=""><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-2048></use></svg><span>[async<wbr>Iterator]</span></a><a href=#receive class=""><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-2048></use></svg><span>receive</span></a></div></details></div><div class=site-menu><nav class=tsd-navigation><a href=../modules.html><svg class=tsd-kind-icon viewBox="0 0 24 24"><use href=../assets/icons.svg#icon-1></use></svg><span>zeromq.js</span></a><ul class=tsd-small-nested-navigation id=tsd-nav-container data-base=..><li>Loading...</ul></nav></div></div></div><footer><p class=tsd-generator>Generated using <a href=https://typedoc.org/ target=_blank>TypeDoc</a></footer><div class=overlay></div>